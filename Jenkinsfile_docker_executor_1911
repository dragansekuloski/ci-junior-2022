pipeline {
    agent any
    triggers { pollSCM('*/1 * * * *') }
    // triger on changes on feture files are added on junkins 
    // Polling ignores commits in certain paths - include "features"

    // additional trigger is needed to be add on base image changes 
    // with jenkins pipline name 'dragan-test image base'
     triggers { upstream(upstreamProjects: 'dragan-test image base', threshold: hudson.model.Result.SUCCESS) }

    stages {
        stage('build-docker-image') {
            steps {
                sh "docker build -t api_test_executor . -f Dockerfile_executor"
            }
        }
    }
}